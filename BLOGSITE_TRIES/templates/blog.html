<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>My Blog</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>

   <header>
    <h1>My Blog</h1>
    <nav>
        <a href="/">Home</a>
        <a href="/blog">Blog</a>
        
        {% if session.logged_in %}
            <a href="/add">Add Post</a>
            <span style="color: #ddd;">Logged in as {{ session.username }}</span>
            <a href="/logout">Logout</a>
        {% else %}
            <a href="/login">Login</a>
            <a href="/register">Register</a>
        {% endif %}
        
        <a href="/about">About</a>
    </nav>
</header>

<div class="container">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert-{{ category }}">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    
    <!-- rest of your content here -->
</div>

    <div class="container">
        <h2>Welcome to My Blog</h2>

        {% for post in posts %}
        <div class="post">
            <h3>{{ post.title }}</h3>
            <p><strong>By:</strong> {{ post.author }}</p>
            <p>{{ post.content }}</p>
            <p><small>Posted: {{ post.created_at }}</small></p>
            <a href="/edit/{{ post.id }}" class="btn-edit">Edit</a>
            <a href="/delete/{{ post.id }}" class="btn-delete">Delete</a>
        </div>
        {% else %}
        <p>No posts yet.</p>
        {% endfor %}
    </div>

</body>

</html>